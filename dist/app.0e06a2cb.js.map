{"version":3,"sources":["app.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","app","Vue","el","data","email","password","newPassword","authUser","displayName","photoURL","favoriteFood","methods","register","auth","createUserWithEmailAndPassword","then","console","log","catch","error","alert","message","clearFields","signOut","signIn","signInWithEmailAndPassword","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","linkWithGoogle","linkWithPopup","unlinkFromGoogle","unlink","updateProfile","updateEmail","updatePassword","updateCustomDetails","database","ref","child","uid","update","computed","linkedToGoogle","providerData","find","providerId","linkedToPassword","created","onAuthStateChanged","user","once","snapshot","val","set"],"mappings":"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","file":"app.0e06a2cb.js","sourceRoot":"..","sourcesContent":["// firebase configuration\r\nlet firebaseConfig = {\r\n\tapiKey: 'AIzaSyDF937Gy0H0f8BkjhxurqdAJmoAFzbuu84',\r\n\tauthDomain: 'vue-firebase-auth-swap.firebaseapp.com',\r\n\tdatabaseURL:\r\n\t\t'https://vue-firebase-auth-swap-default-rtdb.europe-west1.firebasedatabase.app',\r\n\tprojectId: 'vue-firebase-auth-swap',\r\n\tstorageBucket: 'vue-firebase-auth-swap.appspot.com',\r\n\tmessagingSenderId: '1056730425850',\r\n\tappId: '1:1056730425850:web:a4e99fa6d25d00687d5c43',\r\n};\r\n\r\n// initialize firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// vue.js instance\r\nvar app = new Vue({\r\n\tel: '#app',\r\n\r\n\tdata: {\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tnewPassword: '',\r\n\t\tauthUser: null,\r\n\t\tdisplayName: null,\r\n\t\tphotoURL: null,\r\n\t\tfavoriteFood: '',\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tregister() {\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.createUserWithEmailAndPassword(this.email, this.password)\r\n\t\t\t\t.then(() => console.log('Registration successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t\tthis.clearFields();\r\n\t\t},\r\n\r\n\t\tsignOut() {\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.signOut()\r\n\t\t\t\t.then(() => console.log('Sign out successful...'));\r\n\t\t\tthis.clearFields();\r\n\t\t},\r\n\r\n\t\tsignIn() {\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.signInWithEmailAndPassword(this.email, this.password)\r\n\t\t\t\t.then(() => console.log('Sign in successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t\tthis.clearFields();\r\n\t\t},\r\n\r\n\t\tsignInWithGoogle() {\r\n\t\t\tconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.signInWithPopup(provider)\r\n\t\t\t\t.then(() => console.log('Sign in with Google successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t},\r\n\r\n\t\tlinkWithGoogle() {\r\n\t\t\tconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n\t\t\tthis.authUser\r\n\t\t\t\t.linkWithPopup(provider)\r\n\t\t\t\t.then(() => console.log('Link with Google successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t},\r\n\r\n\t\tunlinkFromGoogle() {\r\n\t\t\tthis.authUser\r\n\t\t\t\t.unlink('google.com')\r\n\t\t\t\t.then(() => console.log('Unlink from Google successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t},\r\n\r\n\t\tupdateProfile() {\r\n\t\t\tthis.authUser\r\n\t\t\t\t.updateProfile({\r\n\t\t\t\t\tdisplayName: this.displayName,\r\n\t\t\t\t\tphotoURL: this.photoURL,\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => console.log('Profile update successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t},\r\n\r\n\t\tupdateEmail() {\r\n\t\t\tthis.authUser\r\n\t\t\t\t.updateEmail(this.email)\r\n\t\t\t\t.then(() => console.log('Email update successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t\tthis.clearFields();\r\n\t\t},\r\n\r\n\t\tupdatePassword() {\r\n\t\t\tthis.authUser\r\n\t\t\t\t.updatePassword(this.newPassword)\r\n\t\t\t\t.then(() => console.log('Password update successful...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t\tthis.clearFields();\r\n\t\t},\r\n\r\n\t\tupdateCustomDetails() {\r\n\t\t\tfirebase\r\n\t\t\t\t.database()\r\n\t\t\t\t.ref('users')\r\n\t\t\t\t.child(this.authUser.uid)\r\n\t\t\t\t.update({ favoriteFood: this.favoriteFood })\r\n\t\t\t\t.then(() => console.log('Custom details updated successfully...'))\r\n\t\t\t\t.catch((error) => alert(error.message));\r\n\t\t\tthis.clearFields();\r\n\t\t},\r\n\r\n\t\tclearFields() {\r\n\t\t\tthis.email = '';\r\n\t\t\tthis.password = '';\r\n\t\t\tthis.newPassword = '';\r\n\t\t\tthis.favoriteFood = '';\r\n\t\t},\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tlinkedToGoogle() {\r\n\t\t\treturn !!this.authUser.providerData.find(\r\n\t\t\t\t(provider) => provider.providerId === 'google.com'\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tlinkedToPassword() {\r\n\t\t\treturn !!this.authUser.providerData.find(\r\n\t\t\t\t(provider) => provider.providerId === 'password'\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tfirebase.auth().onAuthStateChanged((user) => {\r\n\t\t\tthis.authUser = user;\r\n\r\n\t\t\tif (user) {\r\n\t\t\t\tthis.displayName = user.displayName;\r\n\t\t\t\tthis.photoURL = user.photoURL;\r\n\t\t\t\tthis.email = user.email;\r\n\t\t\t\tfirebase\r\n\t\t\t\t\t.database()\r\n\t\t\t\t\t.ref('users')\r\n\t\t\t\t\t.child(user.uid)\r\n\t\t\t\t\t.once('value', (snapshot) => {\r\n\t\t\t\t\t\tif (snapshot.val()) {\r\n\t\t\t\t\t\t\tthis.favoriteFood = snapshot.val().favoriteFood;\r\n\t\t\t\t\t\t\tVue.set(this.authUser, 'favoriteFood', this.favoriteFood);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n});\r\n"]}